{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["const playArea = document.getElementById('playArea');\nconst appleArea = document.getElementById('appleArea');\nconst startButton = document.getElementById('start');\nconst stopButton = document.getElementById('stop');\nconst body = Array.from(document.getElementsByTagName('body'));\n\nlet intervalId;\nlet gameSpeed = 100;\nlet playCtx = playArea.getContext('2d');\nlet appleCtx = appleArea.getContext('2d');\nlet gridSize = 10;\nlet restartButton;\n\nappleCtx.fillStyle = 'red';\n\nfunction createRand(area) {\n  let num = { x: Math.round(((Math.random() * (area.width - 10)) + 0) / 10) * 10, y: Math.round(((Math.random() * (area.width - 10)) + 0) / 10) * 10 };\n  console.log(num);\n  return num;\n}\n\nclass Snake {\n  constructor() {\n    this.body = [{ x: Math.floor(playArea.width / 2), y: Math.floor(playArea.height / 2) }];\n    this.size = gridSize;\n    this.direction = 'right';\n  }\n  draw() {\n    if ((this.body[0].x === apple.pos.x) && (this.body[0].y === apple.pos.y)) {\n      this.eat();\n    }\n    if (this.body[0].x > playArea.width || this.body[0].x < 0 || this.body[0].y > playArea.height || this.body[0].y < 0) {\n      this.die();\n    }\n    playCtx.clearRect(0,0,playArea.width, playArea.height);\n    playCtx.fillStyle = 'black';\n    this.body.forEach((sq) => {\n      playCtx.fillRect(sq.x, sq.y, this.size, this.size);\n    });\n  }\n  move() {\n    let s = this.size;\n    \n    if (this.body.length > 1) {\n      let head = this.body[0];\n      let tail = this.body.pop();\n    \n      switch (this.direction) {\n        case 'up':\n          tail.y = (head.y - s);\n          tail.x = head.x;\n          break;\n        case 'right':\n          tail.x = (head.x + s);\n          tail.y = head.y;\n          break;\n        case 'down':\n          tail.y = (head.y + s);\n          tail.x = head.x;\n          break;\n        case 'left':\n          tail.x = (head.x - s);\n          tail.y = head.y;\n          break;\n        }\n        \n        this.body.forEach((sq) => {\n          if (sq.x === tail.x && sq.y === tail.y) {\n            this.die();\n          }\n        });\n        \n        this.body.unshift(tail);\n      } else {\n        let head = this.body.pop();\n        \n        switch (this.direction) {\n          case 'up':\n            head.y = head.y - s;\n            break;\n          case 'right':\n            head.x = head.x + s;\n            break;\n          case 'down':\n            head.y = head.y + s;\n            break;\n          case 'left':\n            head.x = head.x - s;\n            break;\n        }\n        \n        this.body.forEach((sq) => {\n          if (sq.x === head.x && sq.y === head.y) {\n            this.die();\n          }\n        });\n        \n        this.body.unshift(head);\n    }\n    this.draw();\n  }\n  eat() {\n    this.body.push({ x: apple.pos.x, y: apple.pos.y  });\n    apple.move();\n  }\n  die() {\n    window.clearInterval(intervalId);\n    \n    let overlay = document.createElement('div');\n    overlay.id = 'overlay';\n    \n    let p = document.createElement('p');\n    p.innerHTML = 'You Died!';\n    \n    let button = document.createElement('button');\n    button.id = 'restart';\n    button.innerHTML = 'retry';\n    \n    overlay.appendChild(p);\n    overlay.appendChild(button);\n    body[0].appendChild(overlay);\n    \n    restartButton = document.getElementById('restart');\n    \n    restartButton.addEventListener('click', function (e) {\n      location.reload();\n    });\n  }\n}\n\nclass Apple {\n  constructor() {\n    this.pos = createRand(appleArea);\n    this.size = gridSize;\n  }\n  place() {\n    appleCtx.fillRect(this.pos.x, this.pos.y, this.size, this.size);\n  }\n  move() {\n    this.pos = createRand(appleArea);\n    appleCtx.clearRect(0,0,playArea.width, playArea.height);\n    this.place();\n    gameSpeed = gameSpeed * 2;\n  }\n}\n\nconst player = new Snake();\nconst apple = new Apple();\n\nplayer.draw();\napple.place();\n\nfunction gameLoop() {\n  player.move();\n}\n\nstartButton.addEventListener('click', function (e) {\n  intervalId = window.setInterval(gameLoop, gameSpeed);\n});\n\nstopButton.addEventListener('click', function (e) {\n  window.clearInterval(intervalId);\n});\n\n\ndocument.addEventListener('keydown', function (e) {\n  let key = e.which;\n  \n  switch (key) {\n    case 38:\n      case 87:\n        if (player.direction !== 'down') {\n          player.direction = 'up';\n        }\n        break;\n    case 39:\n      case 68:\n        if (player.direction !== 'left') {\n          player.direction = 'right';\n        }\n        break;\n    case 40:\n      case 83:\n        if (player.direction !== 'up') {\n          player.direction = 'down';\n        }\n        break;\n    case 37:\n      case 65:\n        if (player.direction !== 'right') {\n          player.direction = 'left';\n        }\n        break;\n  }\n});\n\n\n\n\n\n\n\n\n"],"sourceRoot":"/source/"}